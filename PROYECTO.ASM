		LIST P=16F84A

TRISA		EQU		05H
PA			EQU		05H
STATUS		EQU		03H

VAR			EQU		10H
NUMBER		EQU		11H
TX			EQU		12H
R11			EQU		13H
VAR2		EQU		14H
DATO		EQU		15H

		;INICIO PROGRAMA
			ORG		0;
		
		BSF	STATUS,5
		MOVLW	B'00001111'
		MOVWF	TRISA
		BCF		STATUS,5
		BCF		PA,4
		BSF		PA,4
		MOVLW	.1
		MOVWF	DATO

INICIO	BTFSS	PA,0
		GOTO	UNO
		BTFSS	PA,1
		GOTO	DOS
		BTFSS	PA,2
		GOTO	TRES
		BTFSS	PA,3
		GOTO	CUATRO
		CLRF	DATO
		GOTO	INICIO

UNO		MOVLW	.1
		MOVWF	NUMBER
		CALL	TRANS
		GOTO	INICIO

DOS		MOVLW	.2
		MOVWF	NUMBER
		CALL	TRANS
		GOTO	INICIO

TRES	MOVLW	.3
		MOVWF	NUMBER
		CALL	TRANS
		GOTO	INICIO

CUATRO	MOVLW	.3
		MOVWF	NUMBER
		CALL	TRANS
		GOTO	INICIO

TRANS	SUBWF	DATO,0
		BTFSC	STATUS,2
		RETLW	0
		CLRWDT
		MOVF	NUMBER,0
		MOVWF	DATO
		MOVWF	TX
		MOVLW	.8
		MOVWF	R11
		BCF		PA,4
		CALL	DELAY1
XNEXT	BCF		PA,4
		BCF		STATUS,0
		RRF		TX,1
		BTFSC	STATUS,0
		BSF		PA,4
		CALL	DELAY1
		DECFSZ	R11,1
		GOTO	XNEXT
		BSF		PA,4
		CALL	DELAY1
		RETURN

DELAY1	MOVLW	.166
		MOVWF	VAR2
REDO	NOP
		NOP
		DECFSZ	VAR2,1
		GOTO	REDO
		RETLW	0
		END